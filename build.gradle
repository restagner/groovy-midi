plugins {
    id 'application'
    id 'groovy'
    id 'org.asciidoctor.jvm.convert' version '3.3.2'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation 'org.codehaus.groovy:groovy-all:2.5.14'
}

application {
    mainClass = 'groovy.midi.demo.MidiDemo'
}

groovydoc {
    docTitle = "Groovy MIDI DSL"
    destinationDir = file("$buildDir/docs/api")
}

asciidoctor {
    outputDir = file("$buildDir/docs")
    // separateOutputDirs = false
}

tasks.register('docs') {
    dependsOn groovydoc, asciidoctor
}

tasks.register('play') {
    dependsOn run
}
